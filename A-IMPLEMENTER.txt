# Plan de développement détaillé des fonctions prioritaires

## 1. Système d'étiquetage automatisé

### 1.1 Base de données des pictogrammes
**Objectif** : Stocker tous les pictogrammes officiels CLP

**Implémentation** :
- Télécharger les pictogrammes officiels depuis http://live.unece.org (formats PNG/SVG)
- Créer une table `pictogrammes` :
  - `id`, `code` (SGH01, SGH02, etc.)
  - `nom` (Explosif, Inflammable, etc.)
  - `fichier_image` (chemin vers le fichier)
  - `signification` (texte descriptif)
  - `couleur_fond` (rouge pour danger, blanc pour autres)

**Livrables** :
- Collection complète des 9 pictogrammes CLP
- Interface d'administration pour gérer les pictogrammes

### 1.2 Associations produits-pictogrammes
**Objectif** : Lier chaque substance chimique à ses pictogrammes réglementaires

**Implémentation** :
- Table `produit_pictogrammes` :
  - `produit_id`, `pictogramme_id`
  - `niveau_danger` (Danger/Attention)
  - `phrases_h` (codes H200, H224, H330, etc.)
  - `phrases_p` (codes P précautions)
- Import automatique depuis les FDS
- Interface de sélection multiple des pictogrammes

**Livrables** :
- Système de liaison produits-dangers
- Import automatisé des données FDS

### 1.3 Générateur d'étiquettes réglementaires
**Objectif** : Créer des étiquettes conformes aux normes

**Implémentation** :
- Template d'étiquette incluant :
  - Nom de la substance + formule chimique
  - Masse molaire (si applicable)
  - Zone pictogrammes (alignés horizontalement)
  - Mentions de danger (phrases H)
  - Conseils de prudence (phrases P)
  - Date de préparation
  - Nom du préparateur
- Formats d'export : PDF, PNG (pour impression sur papier adhésif)
- Tailles personnalisables (petits flacons 50mL, bouteilles 1L, bidons 5L)

**Livrables** :
- Générateur PDF avec mise en page réglementaire
- Module d'impression directe
- Historique des étiquettes générées

### 1.4 Module spécifique pour solutions préparées par les élèves
**Objectif** : Permettre aux élèves de créer leurs propres étiquettes

**Implémentation** :
- Interface simplifiée accessible via ENT
- Assistant intelligent :
  - Sélection des composants du mélange
  - Calcul automatique des pictogrammes cumulés
  - Vérification des incompatibilités
  - Suggestion des précautions d'emploi
- Validation par l'enseignant avant impression

**Livrables** :
- Interface élève ergonomique
- Système de validation enseignant
- Bibliothèque de mélanges courants pré-configurés

---

## 2. Module de gestion des déchets

### 2.1 Classification automatique des déchets
**Objectif** : Identifier automatiquement la catégorie de déchet selon la composition

**Implémentation** :
- Table `categories_dechets` :
  - Solutions contenant ions métalliques (sauf argent)
  - Solutions contenant argent
  - Solvants organiques non halogénés
  - Solutions oxydantes
  - Solutions contenant iode
  - Solutions contenant phénylhydrazine
  - Déchets éliminables à l'évier
- Table `elements_chimiques` avec propriétés de toxicité :
  - Élimination à l'évier si concentration < 0,01 M.L⁻¹ et pH 6,5-8,5 (éléments verts du tableau périodique)
  - Oligoéléments (bleu) : éliminables si concentration naturelle
  - Éléments toxiques (jaune, orange, rouge)
- Algorithme de classification basé sur :
  - Composition élémentaire
  - Concentration
  - pH
  - Présence d'halogènes (F, Cl, Br, I, At)

**Livrables** :
- Base de données du tableau périodique avec niveaux de toxicité
- Moteur de classification automatique
- Règles d'affectation aux bidons

### 2.2 Gestion des bidons de récupération
**Objectif** : Suivre le remplissage et l'état des bidons de stockage

**Implémentation** :
- Table `bidons_dechets` :
  - `type_bidon` (ions métalliques, argent, solvants, oxydants, iode, phénylhydrazine)
  - `capacite_totale`, `capacite_actuelle`
  - `date_mise_service`, `date_derniere_collecte`
  - `localisation` (armoire ventilée, local produits chimiques)
  - `etat` (en service, plein, évacué)
  - `norme_contenant` (PEHD - Polyéthylène Haute Densité)
- Alertes automatiques :
  - Bidon rempli à 80% → alerte orange
  - Bidon rempli à 95% → alerte rouge
- Étiquetage des bidons avec QR code pour traçabilité

**Livrables** :
- Interface de gestion des bidons
- Système d'alertes de remplissage
- Générateur d'étiquettes pour bidons (avec pictogrammes de danger)

### 2.3 Traçabilité des déchets
**Objectif** : Enregistrer chaque dépôt de déchet

**Implémentation** :
- Table `historique_dechets` :
  - `date_depot`, `heure`
  - `produit_source` (nom de la substance initiale)
  - `activite_pratique` (ex: "Réaction du biuret - Terminale S")
  - `volume_depose`
  - `bidon_destination`
  - `utilisateur` (enseignant/technicien)
- Suivi par activité pratique :
  - Estimation prévisionnelle des déchets avant TP
  - Comparaison prévision/réel
  - Optimisation des quantités préparées

**Livrables** :
- Module d'enregistrement des dépôts
- Tableaux de bord de production de déchets
- Statistiques annuelles pour optimisation

### 2.4 Gestion des filières d'élimination
**Objectif** : Organiser la collecte par entreprises spécialisées

**Implémentation** :
- Table `collecteurs_agrees` :
  - Coordonnées, types de déchets acceptés
  - Tarifs, conditions
  - Fréquence de passage
- Table `collectes` :
  - Date prévue/réalisée
  - Liste des bidons évacués
  - Coût, numéro de bordereau
  - Entreprise collectrice
- Gestion des conventions inter-établissements :
  - Système de mutualisation
  - Répartition des coûts
  - Calendrier de collecte partagé

**Livrables** :
- Planificateur de collectes
- Module de gestion des conventions
- Système de facturation partagée

### 2.5 Module spécial "Déchets coupants/piquants"
**Objectif** : Gestion des boîtes DASRI jaunes

**Implémentation** :
- Suivi spécifique :
  - Nombre de boîtes en service
  - Niveau de remplissage (ne jamais dépasser la ligne)
  - Date de mise en service
  - Fermeture définitive
- Pictogrammes réglementaires sur les boîtes
- Filière d'élimination dédiée

**Livrables** :
- Module dédié aux DASRI
- Générateur d'étiquettes conformes (boîtes jaunes)
- Suivi des collectes DASRI

---

## 3. Système de stockage par compatibilité

### 3.1 Base de données des incompatibilités chimiques
**Objectif** : Répertorier toutes les règles de séparation

**Implémentation** :
- Table `categories_stockage` :
  - Produits non dangereux
  - Produits corrosifs (acides/bases séparés)
  - Produits inflammables
  - Solutions oxydantes/réductrices (séparées)
  - Poudres/solutions (séparées)
- Table `incompatibilites` :
  - `categorie_1`, `categorie_2`
  - `niveau_risque` (interdit, déconseillé, toléré avec précautions)
  - `consequence` (explosion, dégagement gazeux, incendie, etc.)
- Matrice de compatibilité visuelle

**Livrables** :
- Base de données d'incompatibilités
- Matrice de compatibilité interactive
- Système d'alerte en temps réel

### 3.2 Cartographie des espaces de stockage
**Objectif** : Modéliser physiquement le laboratoire et les armoires

**Implémentation** :
- Table `lieux_stockage` :
  - `type` (bunker extérieur, local isolé, laboratoire)
  - `ventilation` (oui/non, autonome/générale)
  - `securite` (fermé à clé, accès contrôlé)
  - `capacite`
- Table `armoires` :
  - `lieu_id`
  - `type_armoire` (classique, anti-corrosion, anti-feu, ventilée)
  - `equipements` (bac de rétention, compartiments)
  - `categorie_autorisee` (non dangereux, corrosifs, inflammables)
  - `nbre_etageres`
- Table `emplacements` :
  - `armoire_id`, `etagere`, `position`
  - `produit_id`
  - `quantite`

**Livrables** :
- Plan interactif du laboratoire
- Vue 3D des armoires (optionnel)
- Système de géolocalisation des produits

### 3.3 Assistant de placement automatique
**Objectif** : Suggérer automatiquement où stocker un nouveau produit

**Implémentation** :
- Algorithme de placement :
  1. Analyse des propriétés du produit (FDS)
  2. Détermination de la catégorie de stockage
  3. Vérification des incompatibilités avec produits voisins
  4. Identification des armoires adaptées
  5. Recherche de l'emplacement optimal (même catégorie regroupée)
  6. Vérification de la capacité disponible
  7. Suggestion de plusieurs options classées
- Visualisation 3D de l'emplacement suggéré
- Validation et enregistrement

**Livrables** :
- Moteur de recommandation intelligent
- Interface de visualisation
- Système de validation

### 3.4 Contrôle de conformité du stockage existant
**Objectif** : Auditer régulièrement le stockage

**Implémentation** :
- Analyse automatique :
  - Détection des produits mal placés
  - Identification des incompatibilités
  - Vérification armoires adaptées au contenu
  - Contrôle des conditions (température, ventilation)
- Génération de rapports de non-conformité :
  - Liste des problèmes par priorité
  - Actions correctives recommandées
  - Planification des réorganisations
- Module d'audit périodique (annuel minimum)

**Livrables** :
- Moteur d'audit automatisé
- Rapports de conformité
- Plan d'action correctif

### 3.5 Gestion des conditions de stockage spécifiques
**Objectif** : Surveiller température, ventilation, humidité

**Implémentation** :
- Table `conditions_stockage` :
  - `produit_id`
  - `temperature_min`, `temperature_max` (depuis FDS)
  - `sensible_lumiere` (oui/non)
  - `sensible_humidite`
  - `necessite_ventilation`
- Intégration capteurs IoT (optionnel) :
  - Température armoires/locaux
  - État ventilation
  - Alertes en temps réel
- Vérifications manuelles périodiques

**Livrables** :
- Base de données des exigences de conservation
- Module de surveillance (avec/sans IoT)
- Alertes automatiques

---

## 4. Registre des microorganismes autorisés

### 4.1 Base de données des microorganismes du groupe 1
**Objectif** : Lister exhaustivement les organismes autorisés

**Implémentation** :
- Table `microorganismes` :
  - `nom_scientifique`, `nom_commun`
  - `groupe_risque` (1 uniquement pour collèges/lycées)
  - `type` (bactérie, levure, cyanobactérie, protiste, champignon)
  - `origine_autorisee` (industrie agroalimentaire, fournisseur spécialisé)
  - `utilisations_pedagogiques` (fermentation, respiration, photosynthèse, etc.)
  - `ancrage_programme` (cycle 4, seconde, première, terminale)
  - `fournisseurs_agrees`
- Exemples pré-enregistrés :
  - Levure de boulanger (Saccharomyces cerevisiae)
  - Streptococcus thermophilus
  - Lactobacillus bulgaricus
  - Bifidobacterium
  - Euglènes (Euglena sp.)
  - Pleurococcus
  - Cyanobactéries diverses
- Liste noire : bactéries pathogènes (référence AFSTAL)

**Livrables** :
- Base de données complète avec fiches descriptives
- Système de recherche multicritères
- Liens vers programmes scolaires

### 4.2 Protocoles de mise en culture stérile
**Objectif** : Fournir les procédures détaillées pour chaque organisme

**Implémentation** :
- Table `protocoles_culture` :
  - `microorganisme_id`
  - `type_milieu` (liquide, gélosé, composition)
  - `temperature_incubation`
  - `duree_incubation`
  - `niveau_confinement` (tubes operculés, boîtes de Pétri fermées)
  - `conditions_sterilite` (travail autour flamme/bec électrique)
  - `precautions` (SANS GANTS près du feu)
- Fiches de manipulation :
  - Étapes illustrées
  - Vidéos de démonstration
  - Points de vigilance
  - Signaux de contamination

**Livrables** :
- Bibliothèque de protocoles normalisés
- Fiches imprimables pour TP
- Médiathèque vidéo

### 4.3 Gestion des cultures en cours
**Objectif** : Suivre toutes les cultures actives dans l'établissement

**Implémentation** :
- Table `cultures_actives` :
  - `microorganisme_id`
  - `date_ensemencement`
  - `date_exploitation_prevue`
  - `date_destruction_obligatoire`
  - `localisation` (réfrigérateur, étuve, phytotron, armoire)
  - `classe_utilisatrice`
  - `activite_pratique`
  - `responsable` (enseignant)
  - `etat` (en cours, exploitée, contaminée, détruite)
- Système d'affichage obligatoire :
  - Étiquettes à apposer sur réfrigérateurs/étuves
  - Type de culture + date + milieu
  - Isolation des autres produits
- Alertes automatiques :
  - Rappel destruction après exploitation
  - Détection de contamination (signalement manuel)

**Livrables** :
- Module de suivi des cultures
- Générateur d'étiquettes pour appareils
- Système d'alertes de destruction

### 4.4 Protocoles de destruction des cultures
**Objectif** : Garantir l'élimination sécurisée

**Implémentation** :
- Méthodes de destruction :
  - Immersion eau de Javel concentrée (méthode privilégiée)
  - Autocuiseur/étuve
  - Comparaison efficacité/praticité
- Procédure enregistrée :
  - Date destruction
  - Méthode utilisée
  - Opérateur
  - Conformité du processus
- Cas particulier : cultures contaminées
  - Destruction immédiate
  - Signalement et analyse des causes

**Livrables** :
- Fiches de destruction normalisées
- Module d'enregistrement des destructions
- Base de connaissances sur les contaminations

### 4.5 Module "Observations sans mise en culture"
**Objectif** : Encadrer les prélèvements directs dans le milieu naturel

**Implémentation** :
- Règles strictes :
  - Observations autorisées (flaques, troncs, moisissures)
  - Mises en culture INTERDITES
  - Destruction après observation
- Protocoles d'observation sécurisée :
  - Préparation entre lame et lamelle
  - Port de gants
  - Désinfection du matériel après usage
  - Élimination des lames
- Enregistrement des observations :
  - Date, lieu de prélèvement
  - Classe, activité
  - Types d'organismes observés

**Livrables** :
- Module de gestion des observations terrain
- Protocoles de sécurité spécifiques
- Cahier de laboratoire numérique

---

## 5. Gestion des équipements de sécurité

### 5.1 Inventaire des équipements de sécurité
**Objectif** : Recenser tous les dispositifs de protection collective

**Implémentation** :
- Table `equipements_securite` :
  - `type` (extincteur, douche oculaire, douche corporelle, couverture anti-feu, bac sable/vermiculite, trousse pharmacie, hotte, armoire ventilée)
  - `sous_type` (pour extincteurs : eau, poudre, CO2, mousse)
  - `localisation_precise` (laboratoire, salle TP1, salle TP2, couloir)
  - `numero_serie`, `marque`, `modele`
  - `date_installation`
  - `norme_ce` (oui/non)
  - `capacite` (litres pour extincteurs, mL pour douches oculaires)
  - `classes_feu_couvertes` (A, B, C, D, F pour extincteurs)
- Cartographie interactive :
  - Plan du laboratoire avec emplacement des équipements
  - Pictogrammes réglementaires
  - Accès rapide en cas d'urgence

**Livrables** :
- Base de données exhaustive
- Plan d'évacuation et de sécurité interactif
- QR codes sur chaque équipement

### 5.2 Planification des vérifications périodiques
**Objectif** : Automatiser le calendrier de maintenance

**Implémentation** :
- Table `verifications_reglementaires` :
  - `equipement_id`
  - `type_verification` (annuelle, semestrielle, mensuelle)
  - `organisme_habilite` (externe/interne)
  - `elements_a_verifier`
  - `periodicite_jours`
- Calendrier automatique :
  - Génération des dates de vérification
  - Alertes 1 mois avant échéance
  - Alertes 1 semaine avant échéance
  - Blocage si vérification dépassée
- Spécificités par équipement :
  - Extincteurs : vérification annuelle par organisme agréé
  - Douches oculaires : test mensuel, remplacement sérum physiologique
  - Hottes : vérification flux d'air annuelle
  - Installation gaz : certificat de conformité + vérification périodique
  - Installation électrique : habilitation requise

**Livrables** :
- Moteur de planification automatique
- Système d'alertes multi-niveaux
- Module de gestion des prestataires

### 5.3 Enregistrement des vérifications et maintenances
**Objectif** : Tracer toutes les interventions

**Implémentation** :
- Table `historique_verifications` :
  - `equipement_id`
  - `date_verification`
  - `type` (périodique, suite à incident, maintenance préventive)
  - `operateur` (nom, organisme)
  - `resultat` (conforme, non-conforme, réparation effectuée)
  - `observations`
  - `prochaine_verification`
  - `document_joint` (PDF du certificat/rapport)
- Suivi des non-conformités :
  - Actions correctives à mener
  - Délai de mise en conformité
  - Statut de résolution
  - Validation finale

**Livrables** :
- Module de saisie des interventions
- Stockage des certificats (GED intégrée)
- Tableaux de bord de conformité

### 5.4 Gestion des douches oculaires et rince-œil
**Objectif** : Suivi spécifique de ce matériel critique

**Implémentation** :
- Types recensés :
  - Systèmes fixes reliés eau chaude/froide + sérum physiologique
  - Systèmes transportables (50mL à 1L)
- Contrôles spécifiques :
  - Test d'écoulement mensuel (fixes)
  - Vérification date péremption sérum (mensuels)
  - Remplacement flacons périmés
  - Visibilité du pictogramme réglementaire
  - Accessibilité immédiate (pas d'obstacle)
- Protocole d'utilisation :
  - Affiché à proximité
  - Formation du personnel
  - Exercices pratiques annuels

**Livrables** :
- Module dédié aux douches oculaires
- Générateur de pictogrammes de signalisation
- Fiches de procédure d'utilisation

### 5.5 Gestion de la trousse de pharmacie
**Objectif** : Maintenir une trousse conforme et à jour

**Implémentation** :
- Contenu réglementaire (BO n°1 du 6/01/2000) :
  - Sucres enveloppés
  - Sacs plastiques et gants jetables
  - Ciseaux
  - Couverture de survie/isothermique
  - Mouchoirs en papier
  - Savon de Marseille
  - Garnitures périodiques
  - Éosine disodique aqueuse
  - Compresses individuelles purifiées
  - Pansements adhésifs hypoallergiques
  - Pansements compressifs
  - Sparadrap
  - Bandes de gaze
  - Filets à pansement
  - Écharpe 90cm
- Vérification annuelle par infirmière :
  - Contrôle des dates de péremption
  - Remplacement des produits utilisés
  - Conformité du contenu
  - Rapport de vérification

**Livrables** :
- Check-list interactive de la trousse
- Module de suivi des péremptions
- Système d'alerte pour vérification annuelle

### 5.6 Module "Plan Particulier de Mise en Sûreté" (PPMS)
**Objectif** : Gérer l'équipement des salles de confinement

**Implémentation** :
- Si une salle de SVT = lieu de mise en sûreté :
  - Documents obligatoires : tableau d'effectifs vierge, fiches conduites à tenir, plan mise en sûreté, fiches d'observation
  - Matériel obligatoire : brassards, radio + piles, rubans adhésifs, ciseaux, linges, lampe de poche, essuie-tout, gobelets, seau/sacs plastiques, eau, jeux de cartes/papier/crayons
  - Trousse de premiers secours (contenu détaillé ci-dessus)
- Vérification annuelle :
  - État des piles
  - Conformité du matériel
  - Mise à jour des documents
  - Test radio
- Exercices PPMS :
  - Enregistrement des dates
  - Retour d'expérience
  - Amélioration continue

**Livrables** :
- Module PPMS spécifique
- Check-list de conformité
- Générateur de documents obligatoires

---

## 6. Module de neutralisation des déchets

### 6.1 Base de données des protocoles de neutralisation
**Objectif** : Répertorier les procédures d'élimination à l'évier

**Implémentation** :
- Table `protocoles_neutralisation` :
  - `type_dechet`
  - `conditions_elimination_evier` (concentration max, pH requis)
  - `etapes_neutralisation`
  - `reactifs_necessaires`
  - `verification_finale` (test pH, test concentration)
  - `precautions`
- Règles d'élimination à l'évier (selon tableau périodique) :
  - Éléments verts : [concentration] < 0,01 M.L⁻¹ ET pH entre 6,5 et 8,5
  - Oligoéléments (bleu) : concentration ≤ naturelle
  - Éléments jaunes/orange/rouge : JAMAIS à l'évier
- Protocoles pour acides/bases :
  - Neutralisation progressive
  - Contrôle pH au papier pH
  - Dilution finale avant rejet

**Livrables** :
- Bibliothèque de protocoles illustrés
- Calculateurs de neutralisation (volumes de neutralisant)
- Fiches de sécurité opératoire

### 6.2 Assistant de décision d'élimination
**Objectif** : Guider l'utilisateur vers la bonne méthode

**Implémentation** :
- Questionnaire intelligent :
  1. Quelle est la composition du déchet ? (auto-complétion)
  2. Quelle est la concentration ? (calcul automatique si volume connu)
  3. Quel est le pH ? (mesure ou calcul)
  4. Y a-t-il des mélanges ?
- Analyse automatique :
  - Évaluation selon tableau périodique
  - Vérification des seuils réglementaires
  - Recherche d'incompatibilités
- Décision :
  - ✅ Éliminable à l'évier (avec/sans neutralisation)
  - ⚠️ Nécessite neutralisation → affichage du protocole
  - ❌ Bidon de récupération → identification du bidon

**Livrables** :
- Assistant conversationnel étape par étape
- Algorithme de décision robuste
- Interface mobile pour utilisation en laboratoire

### 6.3 Protocoles de neutralisation acides/bases
**Objectif** : Standardiser les procédures de neutralisation

**Implémentation** :
- Protocole acides :
  - Détermination du volume de base nécessaire (calcul stœchiométrique)
  - Choix de la base (soude, carbonate de sodium)
  - Ajout progressif sous agitation
  - Contrôle pH toutes les 2 minutes
  - Objectif : pH 6,5-8,5
  - Dilution finale si nécessaire
  - Rejet à l'évier
- Protocole bases :
  - Même logique avec ajout d'acide
- Calculateur intégré :
  - Volume acide/base initial
  - Concentration
  - → Volume de neutralisant nécessaire
  - → Protocole détaillé personnalisé

**Livrables** :
- Fiches protocoles acides et bases
- Calculateur de neutralisation intégré
- Vidéos de démonstration

### 6.4 Suivi des neutralisations effectuées
**Objectif** : Tracer toutes les opérations

**Implémentation** :
- Table `historique_neutralisations` :
  - `date`, `heure`
  - `produit_initial`, `volume`, `concentration`, `pH_initial`
  - `protocole_applique`
  - `neutralisant_utilise`, `volume_neutralisant`
  - `pH_final`
  - `conformite` (oui/non)
  - `operateur`
  - `methode_elimination` (évier, bidon)
- Statistiques :
  - Volume total éliminé à l'évier
  - Volume total en bidons
  - Taux de neutralisation réussie
  - Produits les plus fréquents

**Livrables** :
- Module d'enregistrement rapide
- Tableau de bord des neutralisations
- Export pour bilan annuel

### 6.5 Gestion des cas particuliers
**Objectif** : Traiter les situations complexes

**Implémentation** :
- Mélanges complexes :
  - Analyse de chaque composant
  - Identification du composant limitant
  - Protocole adapté au mélange
  - Validation par personnel qualifié
- Volumes importants :
  - Fractionnement des opérations
  - Neutralisation par lots
  - Suivi du pH global
- Produits intermédiaires :
  - Stockage temporaire sécurisé
  - Étiquetage "en cours de neutralisation"
  - Finalisation dans délai défini

**Livrables** :
- Module de gestion des mélanges
- Procédures pour volumes importants
- Système d'étiquetage temporaire

### 6.6 Formation et habilitation
**Objectif** : Former les utilisateurs aux bonnes pratiques

**Implémentation** :
- Module e-learning :
  - Principes de neutralisation
  - Risques liés aux mauvaises pratiques
  - Protocoles étape par étape
  - Quiz de validation
- Habilitation :
  - Différents niveaux (élève accompagné, technicien autonome, enseignant)
  - Traçabilité des formations
  - Renouvellement périodique
- Ressources :
  - Vidéos tutorielles
  - Fiches mémo plastifiées pour laboratoire
  - Cas pratiques

**Livrables** :
- Plateforme de formation en ligne
- Système de gestion des habilitations
- Bibliothèque de ressources pédagogiques

---

## 7. Gestion des urgences

### 7.1 Annuaire des contacts d'urgence
**Objectif** : Centraliser tous les numéros essentiels

**Implémentation** :